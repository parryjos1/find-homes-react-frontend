{"ast":null,"code":"var _jsxFileName = \"/Users/joshparry/sei/projects/project-2/react-frontend-project2/project2-frontend/src/components/CreateAccount.jsx\";\nimport React, { Component } from 'react'; // import { Link } from 'react-router-dom';\n\nimport axios from 'axios';\nlet jwt = '';\n\nclass CreateAccount extends Component {\n  constructor() {\n    super();\n\n    this.handleInputName = event => {\n      event.persist();\n      this.setState({\n        name: event.target.value\n      });\n    };\n\n    this.handleInputEmail = event => {\n      event.persist(); // console.log(event.target.value);\n\n      this.setState({\n        email: event.target.value\n      });\n    };\n\n    this.handleInputPassword = event => {\n      event.persist(); // console.log(event.target.value);\n\n      this.setState({\n        password: event.target.value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault(); // console.log(this.state.name);\n      // console.log(this.state.email);\n      // console.log(this.state.password);\n\n      this.createUser();\n    };\n\n    this.createUser = () => {\n      axios.post('https://find-homes.herokuapp.com/user', {\n        user: {\n          name: this.state.name,\n          email: this.state.email,\n          password: this.state.password\n        }\n      }).then(res => {\n        console.log(res);\n        this.getToken();\n      }).catch(err => {\n        console.log(err);\n        console.log(err.response.data.errors);\n        this.setState({\n          errorMessage: err.response.data.errors\n        });\n      });\n    };\n\n    this.getToken = () => {\n      axios.post('https://find-homes.herokuapp.com/user_token', {\n        \"auth\": {\n          \"email\": this.state.email,\n          \"password\": this.state.password\n        }\n      }).then(res => {\n        jwt = res.data.jwt;\n        console.log(jwt);\n        localStorage.setItem('userToken', jwt);\n        this.props.history.push('/wishlist');\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.state = {\n      name: '',\n      email: '',\n      password: '',\n      errorMessage: []\n    };\n  } // end of constructor\n\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"log-in-background create-account-background\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"log-in create-account\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        color: 'red'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, this.state.errorMessage.map(error => React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, error)))), React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Your name\",\n      className: \"log-in-form\",\n      onChange: this.handleInputName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Email\",\n      className: \"log-in-form\",\n      onChange: this.handleInputEmail,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"password\",\n      placeholder: \"Password\",\n      className: \"log-in-form\",\n      onChange: this.handleInputPassword,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      className: \"log-in-submit\",\n      type: \"submit\",\n      value: \"SIGN UP\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }))));\n  }\n\n} // end of CreateAccount\n\n\nexport default CreateAccount;","map":{"version":3,"sources":["/Users/joshparry/sei/projects/project-2/react-frontend-project2/project2-frontend/src/components/CreateAccount.jsx"],"names":["React","Component","axios","jwt","CreateAccount","constructor","handleInputName","event","persist","setState","name","target","value","handleInputEmail","email","handleInputPassword","password","handleSubmit","preventDefault","createUser","post","user","state","then","res","console","log","getToken","catch","err","response","data","errors","errorMessage","localStorage","setItem","props","history","push","render","color","map","error"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n// import { Link } from 'react-router-dom';\nimport axios from 'axios';\n\nlet jwt = '';\n\nclass CreateAccount extends Component {\n  constructor(){\n    super();\n    this.state={\n      name: '',\n      email: '',\n      password: '',\n      errorMessage: [],\n    }\n  } // end of constructor\n\n\n  handleInputName = (event) => {\n    event.persist();\n    this.setState({ name: event.target.value});\n  }\n\n\n  handleInputEmail = (event) => {\n    event.persist();\n    // console.log(event.target.value);\n    this.setState({ email: event.target.value});\n  }\n\n\n  handleInputPassword = (event) => {\n    event.persist();\n    // console.log(event.target.value);\n    this.setState({ password: event.target.value});\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    // console.log(this.state.name);\n    // console.log(this.state.email);\n    // console.log(this.state.password);\n    this.createUser();\n\n  } // end of handleSubmit\n\n  createUser = () => {\n    axios.post('https://find-homes.herokuapp.com/user', { user: {name: this.state.name, email: this.state.email, password: this.state.password}\n    }).then( res => {\n      console.log(res);\n\n      this.getToken();\n\n\n    }).catch( err => {\n      console.log(err);\n      console.log(err.response.data.errors);\n      this.setState({\n        errorMessage: err.response.data.errors\n      })\n    })\n  }\n\n  getToken = () => {\n    axios.post('https://find-homes.herokuapp.com/user_token', {\"auth\": {\"email\": this.state.email, \"password\": this.state.password}})\n    .then( res => {\n\n    jwt = res.data.jwt;\n    console.log(jwt)\n\n    localStorage.setItem('userToken', jwt);\n    this.props.history.push('/wishlist');\n    })\n    .catch(err =>{\n      console.log(err);\n    })\n  }\n\n\n\n  render(){\n    return(\n      <div className=\"log-in-background create-account-background\">\n        <div className=\"log-in create-account\">\n          <div style={{color: 'red'}}>\n            <ul>\n            {\n                this.state.errorMessage.map( error => (\n                <li>{error}</li>\n                ))\n            }\n\n            </ul>\n\n          </div>\n          <form onSubmit={ this.handleSubmit }>\n            <input type=\"text\" placeholder=\"Your name\" className=\"log-in-form\" onChange={ this.handleInputName }></input>\n            <br/>\n            <br/>\n            <input type=\"text\" placeholder=\"Email\" className=\"log-in-form\" onChange={ this.handleInputEmail }></input>\n            <br/>\n            <br/>\n            <input type=\"password\" placeholder=\"Password\" className=\"log-in-form\" onChange={ this.handleInputPassword }></input>\n            <br/>\n            <br/>\n            <input className=\"log-in-submit\" type=\"submit\" value=\"SIGN UP\"></input>\n          </form>\n\n        </div>\n      </div>\n    )\n  }\n\n} // end of CreateAccount\n\n\nexport default CreateAccount;\n"]},"metadata":{},"sourceType":"module"}