{"ast":null,"code":"var _jsxFileName = \"/Users/joshparry/sei/projects/project-2/react-frontend-project2/project2-frontend/src/components/SearchedShowListings.jsx\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\nclass SearchedShowListings extends Component {\n  constructor() {\n    super();\n\n    this.updateState = () => {\n      //fixes bug of having no maximum\n      const maxPrice = this.props.max_price;\n\n      if (maxPrice === 0) {\n        maxPrice = '';\n      }\n\n      this.setState({\n        domainToken: this.props.domainToken,\n        bedrooms: this.props.bedrooms,\n        bathrooms: this.props.bathrooms,\n        // max_price: this.props.max_price,\n        max_price: maxPrice,\n        suburb: this.props.suburb\n      });\n    };\n\n    this.searchListings = accessToken => {\n      console.log(\"the access token is: \".concat(accessToken));\n      const tk = this.state.domainToken;\n      console.log(\"tk isssss: \".concat(tk));\n      return axios.post(\"https://api.domain.com.au/v1/listings/residential/_search\", {\n        \"minBedrooms\": this.state.bedrooms,\n        \"minBathrooms\": this.state.bathrooms,\n        \"maxPrice\": this.state.max_price,\n        \"locations\": [{\n          \"suburb\": this.state.suburb\n        }]\n      }, {\n        headers: {\n          'Authorization': \"Bearer \".concat(accessToken)\n        }\n      }).then(result => {\n        const data = result.data;\n        console.log('hello array: searchedShowListings', data);\n        this.setState({\n          propertyResults: data\n        }); // this.props.selectedPropCallBack(data)\n      }).catch(err => console.error(err.response.data));\n    };\n\n    this.state = {\n      propertyResults: '',\n      domainToken: ''\n    };\n  } // Method to pull data passed down when we routed to the state\n\n\n  // Updates the state before any HTML is rendered\n  componentWillMount() {\n    this.updateState();\n  }\n\n  componentDidMount() {\n    this.searchListings(this.state.domainToken);\n  } // Query the Domain Database based on search critera\n\n\n  // end of searchListing\n  render() {\n    return React.createElement(\"div\", {\n      className: \"listings-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, this.state.propertyResults.length > 0 ? this.state.propertyResults.map(p => React.createElement(\"div\", {\n      key: p.listing.id,\n      className: \"listings\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/listing/\".concat(p.listing.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"listings-img\",\n      src: p.listing.media[0].url,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }))), React.createElement(Link, {\n      to: \"/listing/\".concat(p.listing.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"listings-headline-address\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, p.listing.propertyDetails.displayableAddress)), React.createElement(\"div\", {\n      className: \"home-icons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: process.env.PUBLIC_URL + '/images/icon-bed.png',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      class: \"home-icons-numbers\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, p.listing.propertyDetails.bedrooms), React.createElement(\"span\", {\n      class: \"home-icons-numbers\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: process.env.PUBLIC_URL + '/images/icon-bathtub.png',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), p.listing.propertyDetails.bathrooms), React.createElement(\"span\", {\n      class: \"home-icons-numbers cars\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: process.env.PUBLIC_URL + '/images/icon-car.png',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }), p.listing.propertyDetails.carspaces))))) : React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"propertyResults is still empty\"));\n  }\n\n}\n\nexport default SearchedShowListings; // <div className=\"component\">\n//\n// <h1>Listings</h1>\n//\n//   <div>\n//     {\n//       this.state.propertyResults.length > 0\n//       ?\n//       this.state.propertyResults.map( p =>\n//         <Link to={`/listing/${p.listing.id}`}>\n//           <div className='listings'>\n//             <div key={p.listing.id} className='listings-left'>\n//               {p.listing.propertyDetails.displayableAddress}\n//             </div><div className='listings-right'>\n//               <img src={p.listing.media[0].url} ></img>\n//               </div>\n//             <br></br>\n//           </div>\n//         </Link>\n//       )\n//\n//      :\n//      <p>Loading...</p>\n//     }\n//   </div>\n//\n// </div>","map":{"version":3,"sources":["/Users/joshparry/sei/projects/project-2/react-frontend-project2/project2-frontend/src/components/SearchedShowListings.jsx"],"names":["React","Component","Link","axios","SearchedShowListings","constructor","updateState","maxPrice","props","max_price","setState","domainToken","bedrooms","bathrooms","suburb","searchListings","accessToken","console","log","tk","state","post","headers","then","result","data","propertyResults","catch","err","error","response","componentWillMount","componentDidMount","render","length","map","p","listing","id","media","url","propertyDetails","displayableAddress","process","env","PUBLIC_URL","carspaces"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\nclass SearchedShowListings extends Component {\n\n  constructor() {\n    super();\n    this.state = {\n      propertyResults: '',\n      domainToken: ''\n    }\n  }\n\n  // Method to pull data passed down when we routed to the state\n  updateState = () => {\n\n    //fixes bug of having no maximum\n    const maxPrice = this.props.max_price\n    if (maxPrice === 0) {\n      maxPrice = ''\n    }\n\n    this.setState({\n      domainToken: this.props.domainToken,\n      bedrooms: this.props.bedrooms,\n      bathrooms: this.props.bathrooms,\n      // max_price: this.props.max_price,\n      max_price: maxPrice,\n      suburb: this.props.suburb\n    })\n  }\n\n  // Updates the state before any HTML is rendered\n  componentWillMount() {\n    this.updateState()\n  }\n\n\n  componentDidMount() {\n    this.searchListings(this.state.domainToken)\n  }\n\n  // Query the Domain Database based on search critera\n  searchListings = (accessToken) => {\n    console.log(`the access token is: ${accessToken}`);\n    const tk = this.state.domainToken;\n    console.log(`tk isssss: ${tk}`);\n  return axios.post(`https://api.domain.com.au/v1/listings/residential/_search`,\n    {\n      \"minBedrooms\": this.state.bedrooms,\n      \"minBathrooms\": this.state.bathrooms,\n      \"maxPrice\": this.state.max_price,\n      \"locations\": [\n        {\n          \"suburb\": this.state.suburb,\n        }\n      ],\n    },\n    {\n        headers: {\n            'Authorization': `Bearer ${accessToken}`,\n        }\n    }).then(result => {\n        const { data } = result;\n        console.log('hello array: searchedShowListings', data);\n        this.setState({propertyResults: data})\n        // this.props.selectedPropCallBack(data)\n    }).catch(err => console.error(err.response.data))\n  } // end of searchListing\n\n\n  render() {\n\n    return(\n      <div className=\"listings-container\">\n        {\n          this.state.propertyResults.length > 0\n          ?\n          this.state.propertyResults.map( p =>\n            <div key={p.listing.id} className=\"listings\">\n              <div>\n                <Link to={`/listing/${p.listing.id}`}>\n                  <img className=\"listings-img\" src={p.listing.media[0].url} ></img>\n                </Link>\n              </div>\n              <Link to={`/listing/${p.listing.id}`}>\n                <div className='listings-headline-address'>\n                  <p>{p.listing.propertyDetails.displayableAddress}</p>\n                </div>\n                <div className=\"home-icons\">\n                  <img src={process.env.PUBLIC_URL + '/images/icon-bed.png'}></img>\n                  <span class=\"home-icons-numbers\">{p.listing.propertyDetails.bedrooms}</span>\n                  <span class=\"home-icons-numbers\"><img src={process.env.PUBLIC_URL + '/images/icon-bathtub.png'}></img>\n                  {p.listing.propertyDetails.bathrooms}</span>\n                <span class=\"home-icons-numbers cars\"><img src={process.env.PUBLIC_URL + '/images/icon-car.png'}></img>\n                  {p.listing.propertyDetails.carspaces}</span>\n                </div>\n              </Link>\n            </div>\n\n          )\n\n         :\n         <p>propertyResults is still empty</p>\n        }\n      </div>\n\n\n    )\n  }\n}\n\nexport default SearchedShowListings\n\n// <div className=\"component\">\n//\n// <h1>Listings</h1>\n//\n//   <div>\n//     {\n//       this.state.propertyResults.length > 0\n//       ?\n//       this.state.propertyResults.map( p =>\n//         <Link to={`/listing/${p.listing.id}`}>\n//           <div className='listings'>\n//             <div key={p.listing.id} className='listings-left'>\n//               {p.listing.propertyDetails.displayableAddress}\n//             </div><div className='listings-right'>\n//               <img src={p.listing.media[0].url} ></img>\n//               </div>\n//             <br></br>\n//           </div>\n//         </Link>\n//       )\n//\n//      :\n//      <p>Loading...</p>\n//     }\n//   </div>\n//\n// </div>\n"]},"metadata":{},"sourceType":"module"}