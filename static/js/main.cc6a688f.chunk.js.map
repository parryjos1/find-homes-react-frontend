{"version":3,"sources":["serviceWorker.js","DisplayProperties.jsx","MapContainer.jsx","SearchSelectedArea.jsx","LogIn.jsx","WishList.jsx","ShowListing.jsx","CreateAccount.jsx","SearchedShowListings.jsx","Nav.jsx","Routes.jsx","index.js"],"names":["Boolean","window","location","hostname","match","DisplayProperties","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","searchListings","accessToken","console","log","concat","props","polygonDrawn","axios","post","listingType","minBedrooms","bedrooms","minBathrooms","bathrooms","maxPrice","geoWindow","polygon","points","headers","Authorization","then","result","data","setState","propertyResults","selectedPropCallBack","catch","err","error","response","state","showComponent","domainToken","react_default","a","createElement","className","length","map","p","react_router_dom","to","listing","id","key","propertyDetails","displayableAddress","src","media","url","Component","AnyReactComponent","_ref","text","require","config","API_KEY","process","MapContainer","getDomainToken","railsDomainTokenRequest","get","domain_token","handleApiLoaded","_ref2","maps","freeDrawMouseDown","poly","Polyline","clickable","move","event","addListener","e","getPath","push","latLng","that","assertThisInitialized","addListenerOnce","removeListener","path","setMap","arrayforPolygontoUse","source","kink","n_source","n_stack","n_dest","start","end","sig","dev_sqr","max_dev_sqr","band_sqr","x12","y12","d12","x13","y13","d13","x23","y23","d23","F","Math","PI","index","Array","sig_start","sig_end","lng","lat","abs","cos","i","r","GDouglasPeucker","j","searchPath","pos","lon","searchAreaPath","polyOptions","fillColor","fillOpacity","strokeColor","strokeWeight","zIndex","editable","Polygon","clearListeners","getDiv","setOptions","draggable","zoomControl","scrollwheel","disableDoubleClickZoom","freeDraw","addDomListener","selectedPropertyLocations","max_price","suburb","defineProperty","target","name","value","preventDefault","history","pathname","style","height","width","onSubmit","submitForm","bind","type","placeholder","onChange","handleChange","onClick","lib_default","bootstrapURLKeys","defaultCenter","center","defaultZoom","zoom","onGoogleApiLoaded","MapContainer_AnyReactComponent","latitude","longitude","src_DisplayProperties","defaultProps","email","password","jwt","LogIn","handleInputEmail","persist","handleInputPassword","handleSubmit","auth","res","localStorage","setItem","errorMessage","_React$createElement","color","WishList","getWishList","getItem","listings","deleteListing","delete","newListings","toConsumableArray","splice","_this2","domain_id","headline","address","image","ShowListing","addListing","domainId","getDomainTokenAndFetchListing","getListingById","listingId","listingImages","price","priceDetails","displayPrice","addressParts","displayAddress","params","geoLocation","carspaces","description","CreateAccount","handleInputName","createUser","user","getToken","errors","SearchedShowListings","updateState","tk","locations","Nav","logOut","removeItem","Routes","react_router","component","exact","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.cc6a688f.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React, {Component} from 'react'\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\n\n\nclass DisplayProperties extends Component {\n\n  constructor() {\n    super();\n    this.state = {\n      showComponent: false,\n      propertyResults: '',\n    }\n  }\n\n  componentDidMount() {\n\n    console.log(`the polygon token is: this: ${this.props.polygonDrawn}`);\n    console.log(`the domain token is: this: ${this.props.domainToken['data']}`);\n\n    // Access the domain token that was loaded in the MapContainer Component\n    // and passed down from MapComponent State as domainToken\n    const accessToken = this.props.domainToken['data']\n\n    // Run function that queries Domain API for properties\n    this.searchListings(accessToken);\n\n\n    // console.log(`The this.propertyResultsis: ${this.propertyResults} `);\n    // this.props.selectedPropCallBack(this.propertyResults)\n\n\n  }\n\n  searchListings = (accessToken) => {\n      console.log(`the polygon is: ${this.props.polygonDrawn}`);\n  return axios.post(`https://api.domain.com.au/v1/listings/residential/_search`,\n  {\n      \"listingType\": \"Sale\",\n      \"minBedrooms\": this.props.bedrooms,\n      \"minBathrooms\": this.props.bathrooms,\n      \"maxPrice\": this.props.maxPrice,\n      \"geoWindow\": {\n\n        \"polygon\": {\n          \"points\":\n            this.props.polygonDrawn\n\n        }\n      },\n\n    },\n    {\n        headers: {\n            'Authorization': `Bearer ${accessToken}`,\n        }\n    }).then(result => {\n        const { data } = result;\n        console.log('hello array:', data);\n        this.setState({propertyResults: data})\n        this.props.selectedPropCallBack(data)\n    }).catch(err => console.error(err.response.data))\n  } // end of searchListing\n\n\n  render() {\n\n\n    return(\n\n      <div className=\"component\">\n        {\n          this.state.propertyResults.length > 0\n          ?\n          this.state.propertyResults.map( p =>\n            <Link to={`/listing/${p.listing.id}`}>\n              <div className='listings'>\n                <div key={p.listing.id} className='listings-left'>\n                  {p.listing.propertyDetails.displayableAddress}\n                </div><div className='listings-right'>\n                  <img src={p.listing.media[0].url} ></img>\n                  </div>\n                <br></br>\n              </div>\n            </Link>\n          )\n\n         :\n         <p>propertyResults is still empty</p>\n        }\n      </div>\n\n    )\n  }\n}\n\nexport default DisplayProperties\n","import React, {Component} from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\nimport GoogleMapReact from 'google-map-react';\nimport SearchSelectedArea from './SearchSelectedArea'\nimport DisplayProperties from './DisplayProperties'\n\n\nconst AnyReactComponent = ({ text }) => <div>{text}</div>;\n\n// const testMarkerArray = [{lat: -33.8659 , lng: 151.2117}, {lat: -33.8670 , lng: 151.2100}]\nconst testMarkerArray = []\n\nrequire('dotenv').config();\n\nconst API_KEY = process.env.REACT_APP_GOOGLE_MAPS_API_KEY;\n// const API_KEY = 'AIzaSyApveGzuUmoZ9NVuRnQMKCWvI_GXOqlzW4';\nconsole.log('API KEY', API_KEY, process.env);\n\n/* Stack-based Douglas Peucker line simplification routine\n   returned is a reduced GLatLng array\n   After code by  Dr. Gary J. Robinson,\n   Environmental Systems Science Centre,\n   University of Reading, Reading, UK\n\n   http://www.bdcc.co.uk/Gmaps/GDouglasPeuker.js\n*/\n\n// Douglas–Peucker algorithm (https://en.wikipedia.org/wiki/Ramer%E2%80%93Douglas%E2%80%93Peucker_algorithm)\n// used to return an array of the polygon points based on lines drawn\nfunction GDouglasPeucker (source, kink)\n/* source[] Input coordinates in GLatLngs \t*/\n/* kink\tin metres, kinks above this depth kept  */\n/* kink depth is the height of the triangle abc where a-b and b-c are two consecutive line segments */\n{\n    var\tn_source, n_stack, n_dest, start, end, i, sig;\n    var dev_sqr, max_dev_sqr, band_sqr;\n    var x12, y12, d12, x13, y13, d13, x23, y23, d23;\n    var F = ((Math.PI / 180.0) * 0.5 );\n    var index = new Array(); /* aray of indexes of source points to include in the reduced line */\n\tvar sig_start = new Array(); /* indices of start & end of working section */\n    var sig_end = new Array();\n\n    /* check for simple cases */\n\n    if ( source.length < 3 )\n        return(source);    /* one or two points */\n\n    /* more complex case. initialize stack */\n\n\tn_source = source.length;\n    band_sqr = kink * 360.0 / (2.0 * Math.PI * 6378137.0);\t/* Now in degrees */\n    band_sqr *= band_sqr;\n    n_dest = 0;\n    sig_start[0] = 0;\n    sig_end[0] = n_source-1;\n    n_stack = 1;\n\n    /* while the stack is not empty  ... */\n    while ( n_stack > 0 ){\n\n        /* ... pop the top-most entries off the stacks */\n\n        start = sig_start[n_stack-1];\n        end = sig_end[n_stack-1];\n        n_stack--;\n\n        if ( (end - start) > 1 ){  /* any intermediate points ? */\n\n                /* ... yes, so find most deviant intermediate point to\n                       either side of line joining start & end points */\n\n            x12 = (source[end].lng() - source[start].lng());\n            y12 = (source[end].lat() - source[start].lat());\n            if (Math.abs(x12) > 180.0)\n                x12 = 360.0 - Math.abs(x12);\n            x12 *= Math.cos(F * (source[end].lat() + source[start].lat()));/* use avg lat to reduce lng */\n            d12 = (x12*x12) + (y12*y12);\n\n            for ( i = start + 1, sig = start, max_dev_sqr = -1.0; i < end; i++ ){\n\n                x13 = (source[i].lng() - source[start].lng());\n                y13 = (source[i].lat() - source[start].lat());\n                if (Math.abs(x13) > 180.0)\n                    x13 = 360.0 - Math.abs(x13);\n                x13 *= Math.cos (F * (source[i].lat() + source[start].lat()));\n                d13 = (x13*x13) + (y13*y13);\n\n                x23 = (source[i].lng() - source[end].lng());\n                y23 = (source[i].lat() - source[end].lat());\n                if (Math.abs(x23) > 180.0)\n                    x23 = 360.0 - Math.abs(x23);\n                x23 *= Math.cos(F * (source[i].lat() + source[end].lat()));\n                d23 = (x23*x23) + (y23*y23);\n\n                if ( d13 >= ( d12 + d23 ) )\n                    dev_sqr = d23;\n                else if ( d23 >= ( d12 + d13 ) )\n                    dev_sqr = d13;\n                else\n                    dev_sqr = (x13 * y12 - y13 * x12) * (x13 * y12 - y13 * x12) / d12;// solve triangle\n\n                if ( dev_sqr > max_dev_sqr  ){\n                    sig = i;\n                    max_dev_sqr = dev_sqr;\n                }\n            }\n\n            if ( max_dev_sqr < band_sqr ){   /* is there a sig. intermediate point ? */\n                /* ... no, so transfer current start point */\n                index[n_dest] = start;\n                n_dest++;\n            }\n            else{\n                /* ... yes, so push two sub-sections on stack for further processing */\n                n_stack++;\n                sig_start[n_stack-1] = sig;\n                sig_end[n_stack-1] = end;\n                n_stack++;\n                sig_start[n_stack-1] = start;\n                sig_end[n_stack-1] = sig;\n            }\n        }\n        else{\n                /* ... no intermediate points, so transfer current start point */\n                index[n_dest] = start;\n                n_dest++;\n        }\n    }\n\n    /* transfer last point */\n    index[n_dest] = n_source-1;\n    n_dest++;\n\n    /* make return array */\n    var r = new Array();\n    for(var i=0; i < n_dest; i++)\n        r.push(source[index[i]]);\n    return r;\n\n}\n\nconst mapStyles = {\n  width: '50%',\n  height: '50%',\n};\n\nexport default class MapContainer extends Component {\n\n  constructor(props){\n    super(props);\n\n    this.state = {\n      map: null,\n      maps: null,\n      searchAreaPath: [],\n      domain_token: '',\n      selectedPropertyLocations: [],\n      bedrooms: 0,\n      bathrooms: 0,\n      max_price: 100000000,\n      suburb: '',\n    };\n\n  }\n\n  // Sydney City Lat & Lng for default\n  static defaultProps = {\n    center: {\n      lat: -33.8708,\n      lng: 151.2073\n    },\n    zoom: 15\n  };\n\n  handleChange(e) {\n     this.setState({ [e.target.name] : e.target.value });\n  }\n\n  componentDidMount() {\n\n    // get's domain token from rails database\n    this.getDomainToken();\n\n  }\n\n  // gets domain token by making an axios request to the rails server which runs the logic to       generate a token\n  // the results of axios query is then saved to state\n  getDomainToken = () => {\n     const railsDomainTokenRequest = axios.get(\"https://find-homes.herokuapp.com/domain_token\").then(result => {\n       console.log(`The result is: ${result}`);\n       this.setState({domain_token: result.data})\n     })\n     console.log(`railsDomainTokenRequest is: ${railsDomainTokenRequest}`);\n     return railsDomainTokenRequest\n  }\n\n  // ?*? what is this function do what is map and what is maps?\n  handleApiLoaded = ({map, maps}) => {\n    console.log('LOADED', map, maps);\n    // debugger;\n    this.setState({\n      map: map,\n      maps: maps\n    });\n  }\n\n  freeDrawMouseDown = () => {\n\n    //the polygon\n    let poly = new this.state.maps.Polyline({map:this.state.map,clickable:false});\n\n    //move-listener\n    let move=this.state.maps.event.addListener(this.state.map,'mousemove',function(e){\n        poly.getPath().push(e.latLng);\n    });\n\n\n    const that = this;\n\n    //mouseup-listener\n    this.state.maps.event.addListenerOnce(this.state.map,'mouseup',function(e){\n\n        that.state.maps.event.removeListener(move);\n        var path=poly.getPath(); // what is this? and how does it know where the path has moved\n        poly.setMap(null);\n\n        //?*?\n        // Gets the path of the mouse movements but why is that on the mouse up?\n        var theArrayofLatLng = path.j; // What is path.j? ?*?\n        var arrayforPolygontoUse= GDouglasPeucker(theArrayofLatLng,50);\n        console.log(\"ArrayforPolygontoUse\", arrayforPolygontoUse);\n\n        // By this point, you will have the array of lat/lng coordinates, which you can\n        // save into state:\n        const searchPath = arrayforPolygontoUse.map( pos => ({ lat: pos.lat(), lon: pos.lng() }) );\n        // const searchPath = arrayforPolygontoUse.map( pos => [ pos.lat(), pos.lng() ] );\n\n        that.setState({\n          searchAreaPath:  searchPath\n        });\n\n        console.log('path', searchPath);\n\n\n        var polyOptions = {\n            map: that.state.map,\n            fillColor: '#0099FF',\n            fillOpacity: 0.7,\n            strokeColor: '#AA2143',\n            strokeWeight: 2,\n            clickable: false,\n            zIndex: 1,\n            path: arrayforPolygontoUse,\n            editable: false\n        }\n\n        poly=new that.state.maps.Polygon(polyOptions);\n\n        that.state.maps.event.clearListeners(that.state.map.getDiv(), 'mousedown');\n\n        that.state.map.setOptions({\n            draggable: true,\n            zoomControl: true,\n            scrollwheel: true,\n            disableDoubleClickZoom: true\n        });\n\n    });  // mouseup-handler\n\n  } //freeDrawMouseDown()\n\n  freeDraw = (event) => {\n    // ?*? what is map.setOptions?\n    this.state.map.setOptions({\n        draggable: false,\n        zoomControl: false,\n        scrollwheel: false,\n        disableDoubleClickZoom: false\n    });\n\n\n    this.state.maps.event.addDomListener(this.state.map.getDiv(), 'mousedown', this.freeDrawMouseDown);\n\n  } //freeDraw()\n\n  selectedPropCallBack = (e) => {\n    console.log(`~~~~e is: ${e}`);\n    this.setState({selectedPropertyLocations: e})\n  }\n\n  // Upon submitting suburb form route to SearchedShowListing Route and pass along these state. Can be found under: history > location > staten >\n  submitForm (e) {\n    e.preventDefault()\n\n    this.props.history.push({\n      pathname: '/searchlistings',\n      state: {\n        bedrooms: this.state.bedrooms,\n        bathrooms: this.state.bathrooms,\n        max_price: this.state.max_price,\n        suburb: this.state.suburb,\n        domainToken: this.state.domain_token.data\n      }\n    })\n  } //submitForm()\n\n\n  render(){\n\n\n    return (\n      <div style={{ height: '100vh', width: '90%' }}>\n\n          <form onSubmit={this.submitForm.bind(this)} bedrooms={this.state.bedrooms}>\n            <label>\n\n              Search Suburb:\n              <input type=\"text\" name=\"suburb\" value={this.state.value} placeholder=\" 'Glebe'\" onChange={this.handleChange.bind(this)} />\n\n            </label>\n\n            <input type=\"submit\" value=\"Search\" />\n          </form>\n\n        <div>\n          <label>\n            Min Bedrooms:\n            <select value={this.state.bedrooms} name='bedrooms' onChange={this.handleChange.bind(this)}>\n              <option value='0'>0</option>\n              <option value='1'>1</option>\n              <option value=\"2\">2</option>\n              <option value=\"3\">3</option>\n              <option value=\"4\">4</option>\n            </select>\n          </label>\n          <label>\n            Min Bathrooms:\n            <select value={this.state.bathrooms} name='bathrooms' onChange={this.handleChange.bind(this)}>\n              <option value='0'>0</option>\n              <option value='1'>1</option>\n              <option value=\"2\">2</option>\n              <option value=\"3\">3</option>\n              <option value=\"4\">4</option>\n            </select>\n          </label>\n          <label>\n            Max Price:\n            <select value={this.state.max_price} name='max_price' onChange={this.handleChange.bind(this)}>\n              <option value=\"\">-</option>\n              <option value=\"1000000\">1,000,000</option>\n              <option value=\"2000000\">2,000,000</option>\n              <option value=\"3000000\">3,000,000</option>\n              <option value=\"5000000\">5,000,000</option>\n            </select>\n          </label>\n\n        </div>\n\n\n\n        <button onClick={this.freeDraw}>Draw area</button>\n\n\n\n         <GoogleMapReact\n           bootstrapURLKeys={{ key: API_KEY }}\n           defaultCenter={this.props.center}\n           defaultZoom={this.props.zoom}\n            onGoogleApiLoaded={this.handleApiLoaded}\n         >\n\n\n\n\n       {\n         this.state.selectedPropertyLocations.length > 0\n         ?\n          this.state.selectedPropertyLocations.map(p =>\n         <AnyReactComponent\n           lat={p.listing.propertyDetails.latitude}\n           lng={p.listing.propertyDetails.longitude}\n           text= <Link to={`/listing/${p.listing.id}`}><strong>X</strong></Link>\n         />\n       )\n       :\n       <p></p>\n     }\n\n\n       </GoogleMapReact>\n       {\n         this.state.searchAreaPath.length > 0\n         ?\n        <DisplayProperties polygonDrawn={this.state.searchAreaPath} domainToken={this.state.domain_token} selectedPropCallBack={this.selectedPropCallBack} bedrooms={this.state.bedrooms} bathrooms={this.state.bathrooms} maxPrice={this.state.max_price}/>\n        :\n        <p>Select an area on the map to search</p>\n       }\n      </div>\n    );\n  }\n\n\n} // End of MapContainer\n\n\n// ``````~~~~~~ How MapContainer works  ~~~~~~~~~```````\n/*\n\n1. A Map is rendered on the Page from the Google Map Component\n    - GoogleMapReact is a google map library google-map-react (https://github.com/google-map-react/google-map-react)\n    - it allows you to render any google react component on the google map\n    - ?*? what does the handleApiLoaded function do?\n\n2. FreeDraw function allows you to draw on the Google map\n    -   FreeDraw() is called on the OnClick function of the button\n    -\n3.\n\nDo something you're so good at\n\n*/\n","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport DisplayProperties from './DisplayProperties'\n\nclass SearchSelectedArea extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      domain_token: ''\n    }\n  }\n\n  componentDidMount() {\n\n    this.getDomainToken();\n\n    // const domain_token = this.getDomainToken()\n    // console.log(`domain_token is: ${domain_token}`);\n    //\n    // this.setState({domain_token})\n\n  }\n\n  getDomainToken = () => {\n     const railsDomainTokenRequest = axios.get(\"https://find-homes.herokuapp.com/domain_token\").then(result => {\n       console.log(`The result is: ${result}`);\n       this.setState({domain_token: result.data})\n     })\n\n     console.log(`railsDomainTokenRequest is: ${railsDomainTokenRequest}`);\n\n     return railsDomainTokenRequest\n  }\n\n  handleClick = () => {\n    this.props.history.push(\"/displayproperties\");\n  }\n\n\n  render(){\n\n    return(\n      <div className=\"component\">\n\n\n        {/* */}\n        <button>\n        <Link to=\"/displayproperties\" >Click to displayproperties</Link>\n        </button>\n        {/*\n        // <button component={Link} to=\"/displayproperties\">\n        //   Search Selected Area\n        // </button>\n        //\n        // <button onClick={this.handleClick} type=\"button\"></button>\n      */}\n\n      </div>\n    )\n  }\n}\n\nexport default SearchSelectedArea\n","import React, {Component } from 'react';\n// import { Link } from 'react-router-dom';\nimport axios from 'axios';\n\nlet email = '';\nlet password = '';\nlet jwt = '';\n\nclass LogIn extends Component {\n  constructor(){\n    super();\n    this.state ={\n      errorMessage: ''\n    }\n  } // end of constructor\n\n  handleInputEmail = (event) =>{\n  event.persist();\n  // console.log(event.target.value);\n  email = event.target.value;\n  }\n\n  handleInputPassword = (event) =>{\n  event.persist();\n  // console.log(event.target.value);\n  password = event.target.value;\n  }\n\n  handleSubmit = (event) => {\n    // prevents page reload\n  event.preventDefault();\n  // console.log(this.state.email);\n  // console.log(this.state.password);\n  console.log(email);\n  console.log(password);\n\n  //make a post request to the backend, if user exists and password is correct (this is managed by knock gem)\n  //then send back JWT\n\n\n\n  axios.post('https://find-homes.herokuapp.com/user_token', {\"auth\": {\"email\": email, \"password\": password}})\n  .then( res => {\n\n    jwt = res.data.jwt;\n    console.log(jwt)\n\n    //store UserToken in localStorage\n    // which allows for stored data is saved across browser sessions.\n    //https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage\n    //In console: localStorage.getItem('userToken')\n    localStorage.setItem('userToken', jwt);\n    //redirect to wishlist\n    this.props.history.push('/wishlist');\n\n\n  })\n  .catch( err => {\n    this.setState({ errorMessage: 'Invalid email or password'})\n  } )\n\n} //end of handleSubmit\n\n  render(){\n    return(\n      <div className=\"component\">\n        <h1>Log in</h1>\n        <div style={{color: 'red'}}>\n          {this.state.errorMessage}\n        </div>\n        <form onSubmit={ this.handleSubmit }>\n          <input type=\"text\" placeholder=\"Your email\" onChange={ this.handleInputEmail }></input>\n          <br/>\n          <input type=\"text\" placeholder=\"Password\" type=\"password\" onChange={ this.handleInputPassword }></input>\n          <br/>\n          <input type=\"submit\" value=\"Log In\"></input>\n        </form>\n\n      </div>\n    )\n  }\n\n}\n\nexport default LogIn;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios'\n\n\n\nclass WishList extends Component {\n  constructor(){\n    super();\n    this.state = {\n      listings: [],\n    }\n  }\n\n\n  componentDidMount(){\n    this.getWishList();\n\n  } // end of ComponentDidMount\n\n  getWishList = () => {\n    //userToken is stored in localStorage\n\n    axios.get('https://find-homes.herokuapp.com/wishlists', {\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem('userToken')\n      }\n    })\n    .then( res =>{\n      // console.log(res.data.listings);\n      // console.log(res.data.name);\n\n      this.setState({\n        listings: res.data.listings,\n        name: res.data.name\n      })\n\n    })\n    .catch( err => {\n      console.log(err);\n    });\n  }\n\n  deleteListing = (id, index) => {\n    // console.log('delete listing id', id);\n    // console.log('index', index)\n\n    // delete listing from users wishList in the database\n\n    axios.delete(`https://find-homes.herokuapp.com/wishlists/` + id, {\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem('userToken')\n      }\n    })\n\n    .then( res =>{\n      console.log(res);\n      // update page\n\n      // make a copy of the users listings because you cannot change the state directly\n      const newListings = [...this.state.listings];\n      // console.log(newListings);\n\n      //remove deleted listing via splicing\n      newListings.splice(index, 1);\n      // console.log(newListings);\n\n      // update this.state.listings\n      // so the rendered view no longer shows it\n      this.setState({\n        listings: newListings\n      })\n    }).catch( err => {\n        console.log(err);\n    });\n  }\n\n\n  render(){\n    return(\n      <div className=\"component\">\n        <h2>Welcome, {this.state.name} </h2>\n        <div>\n        {\n          this.state.listings.length > 0\n          ?\n          this.state.listings.map( (listing, index) => (\n                      <div key={listing.id} className=\"listings\">\n              <Link to={`/listing/${listing.domain_id}`}>\n\n                    <div className=\"listings-left\">\n                      <p><strong>{listing.headline}</strong></p>\n                      <p>{listing.address}</p>\n                    </div></Link><div className=\"listings-right\">\n                    <Link to={`/listing/${listing.domain_id}`}>\n                      <img src={listing.image}/>\n                      </Link>\n                      <button onClick={ ()=>this.deleteListing(listing.id, index) }> Delete\n                      </button>\n                    </div>\n                  </div>\n\n            ))\n          :\n          <p>loading</p>\n\n        }\n      </div>\n      </div>\n    )\n\n  }\n\n}\n\nexport default WishList;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\n\n\nclass ShowListing extends Component {\n  constructor(){\n    super();\n    this.state = {\n      listing: {},\n      listingImages: [],\n      price: '',\n      address: ''\n    }\n  }\n\n\n  componentDidMount(){\n    const domainId = this.props.match.params.id;\n    this.getDomainTokenAndFetchListing(domainId);\n\n  }\n\n  // headline, image, address, latitude, longitude, domainId\n\n  // // onClick={()=>this.addListing(this.state.listing.id)}\n  //\n  //   addListing = (headline, , latitude, longitude, )\n\n  addListing = (domainId, address, image, headline, latitude, longitude) => {\n\n    axios.post('https://find-homes.herokuapp.com/wishlists/', {domainId: domainId, address: address, image: image, headline: headline, latitude: latitude, longitude: longitude}, {\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem('userToken')\n      }\n    }).then( res =>{\n      console.log(res);\n    }).catch(err => {\n      console.log(err);\n    })\n\n  }; //end of addListing\n\n  getDomainTokenAndFetchListing = (domainId) => {\n     axios.get(\"https://find-homes.herokuapp.com/domain_token\")\n     .then(result => {\n       console.log(`The domain token is:`, result.data.data);\n       const domainToken = result.data.data;\n       this.getListingById( domainId, domainToken );\n       // this.setState({domain_token: result.data})\n     })\n  }\n\n  getListingById = (listingId, accessToken) => {\n  return axios.get(`https://api.domain.com.au/v1/listings/${listingId}`, {\n      headers: {\n          'Authorization': `Bearer ${accessToken}`,\n      }\n  }).then(result => {\n      console.log(result.data);\n      this.setState({\n        listing: result.data,\n        listingImages: result.data.media,\n        price: result.data.priceDetails.displayPrice,\n        address: result.data.addressParts.displayAddress\n      })\n  }).catch(err => console.error(err))\n  }\n\n\n  render(){\n    return(\n      <div className=\"component\">\n        <button onClick={()=>this.addListing(this.state.listing.id, this.state.listing.addressParts.displayAddress, this.state.listingImages[0].url, this.state.listing.headline, this.state.listing.geoLocation.latitude, this.state.listing.geoLocation.longitude )}>Add This house</button>\n\n        <h2>{this.state.listing.headline}</h2>\n        <h3>{this.state.address}</h3>\n        <p><strong>Bathrooms</strong>: {this.state.listing.bathrooms}</p>\n        <p><strong>Bedrooms</strong>: {this.state.listing.bedrooms}</p>\n        <p><strong>Car spaces</strong>: {this.state.listing.carspaces}</p>\n\n        <p><strong>Price</strong>: {this.state.price}</p>\n\n\n          {\n            this.state.listingImages.length > 0\n            ?\n            this.state.listingImages.map( (image, index) => (\n              <img className=\"show-images\" key={index} src={image.url}/>\n            ))\n            :\n            <p>loading</p>\n          }\n        <p>{this.state.listing.description}</p>\n\n\n      </div>\n    )\n  }\n\n}\n\nexport default ShowListing;\n","import React, { Component } from 'react';\n// import { Link } from 'react-router-dom';\nimport axios from 'axios';\n\nlet jwt = '';\n\nclass CreateAccount extends Component {\n  constructor(){\n    super();\n    this.state={\n      name: '',\n      email: '',\n      password: '',\n      errorMessage: [],\n    }\n  } // end of constructor\n\n\n  handleInputName = (event) => {\n    event.persist();\n    this.setState({ name: event.target.value});\n  }\n\n\n  handleInputEmail = (event) => {\n    event.persist();\n    // console.log(event.target.value);\n    this.setState({ email: event.target.value});\n  }\n\n\n  handleInputPassword = (event) => {\n    event.persist();\n    // console.log(event.target.value);\n    this.setState({ password: event.target.value});\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    // console.log(this.state.name);\n    // console.log(this.state.email);\n    // console.log(this.state.password);\n    this.createUser();\n\n  } // end of handleSubmit\n\n  createUser = () => {\n    axios.post('https://find-homes.herokuapp.com/user', { user: {name: this.state.name, email: this.state.email, password: this.state.password}\n    }).then( res => {\n      console.log(res);\n\n      this.getToken();\n\n\n    }).catch( err => {\n      console.log(err);\n      console.log(err.response.data.errors);\n      this.setState({\n        errorMessage: err.response.data.errors\n      })\n    })\n  }\n\n  getToken = () => {\n    axios.post('https://find-homes.herokuapp.com/user_token', {\"auth\": {\"email\": this.state.email, \"password\": this.state.password}})\n    .then( res => {\n\n    jwt = res.data.jwt;\n    console.log(jwt)\n\n    localStorage.setItem('userToken', jwt);\n    this.props.history.push('/wishlist');\n    })\n    .catch(err =>{\n      console.log(err);\n    })\n  }\n\n\n\n  render(){\n    return(\n      <div className=\"component\">\n        <h1>Create a new account</h1>\n        <div style={{color: 'red'}}>\n          <ul>\n          {\n              this.state.errorMessage.map( error => (\n              <li>{error}</li>\n              ))\n          }\n\n          </ul>\n\n        </div>\n        <form onSubmit={ this.handleSubmit }>\n          <input type=\"text\" placeholder=\"Your name\" onChange={ this.handleInputName }></input><br/>\n          <input type=\"text\" placeholder=\"Email\" onChange={ this.handleInputEmail }></input><br/>\n          <input type=\"password\" placeholder=\"Password\" onChange={ this.handleInputPassword }></input><br/>\n          <input type=\"submit\" value=\"Create new account\"></input>\n        </form>\n\n      </div>\n    )\n  }\n\n} // end of CreateAccount\n\n\nexport default CreateAccount;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\nclass SearchedShowListings extends Component {\n\n  constructor() {\n    super();\n    this.state = {\n      propertyResults: '',\n      domainToken: ''\n    }\n  }\n\n  // Method to pull data passed down when we routed to the state\n  updateState = () => {\n    this.setState({\n      domainToken: this.props.history.location.state.domainToken,\n      bedrooms: this.props.history.location.state.bedrooms,\n      bathrooms: this.props.history.location.state.bathrooms,\n      max_price: this.props.history.location.state.max_price,\n      suburb: this.props.history.location.state.suburb\n    })\n  }\n\n  // Updates the state before any HTML is rendered\n  componentWillMount() {\n    this.updateState()\n  }\n\n\n  componentDidMount() {\n    this.searchListings(this.state.domainToken)\n  }\n\n  // Query the Domain Database based on search critera\n  searchListings = (accessToken) => {\n    console.log(`the access token is: ${accessToken}`);\n    const tk = this.state.domainToken;\n    console.log(`tk isssss: ${tk}`);\n  return axios.post(`https://api.domain.com.au/v1/listings/residential/_search`,\n    {\n      \"minBedrooms\": this.state.bedrooms,\n      \"minBathrooms\": this.state.bathrooms,\n      \"maxPrice\": this.state.max_price,\n      \"locations\": [\n        {\n          \"suburb\": this.state.suburb,\n        }\n      ],\n    },\n    {\n        headers: {\n            'Authorization': `Bearer ${accessToken}`,\n        }\n    }).then(result => {\n        const { data } = result;\n        console.log('hello array: searchedShowListings', data);\n        this.setState({propertyResults: data})\n        // this.props.selectedPropCallBack(data)\n    }).catch(err => console.error(err.response.data))\n  } // end of searchListing\n\n\n  render() {\n\n    return(\n\n      <div className=\"component\">\n\n      <h1>Listings</h1>\n\n        <div>\n          {\n            this.state.propertyResults.length > 0\n            ?\n            this.state.propertyResults.map( p =>\n              <Link to={`/listing/${p.listing.id}`}>\n                <div className='listings'>\n                  <div key={p.listing.id} className='listings-left'>\n                    {p.listing.propertyDetails.displayableAddress}\n                  </div><div className='listings-right'>\n                    <img src={p.listing.media[0].url} ></img>\n                    </div>\n                  <br></br>\n                </div>\n              </Link>\n            )\n\n           :\n           <p>Loading...</p>\n          }\n        </div>\n\n      </div>\n\n    )\n  }\n}\n\nexport default SearchedShowListings\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n// import axios from 'axios';\n\nclass Nav extends Component {\n\n  logOut = () => {\n    console.log('hello');\n    localStorage.removeItem('userToken');\n    this.props.history.push('/');\n  }\n\n  render(){\n    return(\n      <div>\n        <h1 className=\"title\">Find Homes</h1>\n        <nav className='nav-bar'>\n            <div className='nav-left'>\n              <Link to=\"/\">Find homes</Link>\n            </div><div className='nav-right'>\n            {localStorage.getItem('userToken')\n            ?\n              <div>\n                <Link to=\"/wishlist\">Wishlist</Link>\n                |\n                <button onClick={this.logOut}>Log out</button>\n              </div>\n              :\n              <div>\n                <Link to=\"/login\">Log in</Link>\n                |\n                <Link to=\"/create_account\">Create Account</Link>\n              </div>\n            }\n          </div>\n        </nav>\n      </div>\n    )\n\n  }\n\n\n}\n\nexport default Nav;\n","import React from 'react';\n// npm install --save react-router-dom\nimport {HashRouter as Router, Route} from 'react-router-dom';\nimport MapContainer from './MapContainer';\nimport LogIn from './LogIn';\nimport WishList from './WishList';\nimport ShowListing from './ShowListing';\nimport CreateAccount from './CreateAccount';\nimport SearchedShowListings from './SearchedShowListings';\nimport Nav from './Nav';\n\n// <Nav history={window.history}>\n// path without exact allows the nav component to render on every page with\n\nconst Routes = (\n  <Router>\n    <div>\n      <Route path=\"/\" component={ Nav } />\n      <Route exact path=\"/\" component={ MapContainer } />\n      <Route exact path=\"/login\" component={ LogIn } />\n      <Route exact path=\"/create_account\" component={ CreateAccount } />\n      <Route exact path=\"/wishlist\" component={ WishList } />\n      <Route exact path=\"/listing/:id\" component={ ShowListing }/>\n      <Route exact path=\"/searchlistings\" component={ SearchedShowListings }/>\n    </div>\n  </Router>\n)\n\nexport default Routes;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n// import App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport Routes from './Routes';\n\nReactDOM.render(Routes, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}